openapi: "3.0.3"
info:
  title: API TD4 - STD23028
  version: "1.0.0"
servers:
  - url: https://localhost:8080/std23028
paths:
  /customers/{customerId}/orders:
    get:
      tags:
        - Order
      summary: Get customer's orders
      operationId: getOrderByCustomerId
      parameters:
        - in: path
          required: true
          name: customerId
          schema:
            type: string
            example: "cUsT-df12-fde8"

      responses:
        '200':
          description: OK
          content:
            application/json:
              schema:
                type: array
                items:
                   $ref: "#/components/schemas/OrdersWithCustomerId"




components:
  schemas:
    Meal:
      allOf:
        - $ref: "../td3/td3.yaml/#/components/schemas/Meal"
    Meals:
      type: array
      items:
        $ref: "#/components/schemas/Meal"
    Orders:
      type: object
      properties:
        reference:
          type: string
          example: "order_ref-125d-dd8f"
        meals:
          $ref: "#/components/schemas/Meals"
        orderDateTime:
          type: string
          format: date-time
    CustomerId:
      type: object

    OrdersWithCustomerId:
      allOf:
        - $ref: "../td1/td1.yaml/"
        - $ref: "#/components/schemas/Orders"
